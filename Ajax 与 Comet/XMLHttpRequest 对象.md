# XMLHttpRequest 对象

``` js
var xhr = new XMLHttpRequest();
```

## XHR 的用法

在使用 XHR 对象时，要调用的第一个方法是 open()，他接收 3 个函数：要发送的请求的类型（“get”、“post” 等）、请求的 URL 和表示是否异步发送的布尔值。

``` js
xhr.open("get", "example.php", false);
```

以上代码：需要注意两点：一是 URL 相对于执行代码的当前页面（当然也可以使用绝对路径）；二是调用 open() 函数并不会真正发送请求，而只是启动一个请求以备发送。

> 只能向同一个域中使用相同端口和协议的 URL 发送请求，如果 URL 与启动请求的页面有任何差别，都会引发安全错误。

要发送特定的请求，必须像下面这样调用 send() 方法。

``` js
xhr.open("get", "example.txt", false);
xhr.open(null);
```

这里的 send() 方法接收一个参数，即要作为请求主体发送的数据。如果不需要通过请求主体发送数据，则必须传入 null，因为这个参数对有些浏览器来说是**必须**的。调用 send() 之后，请求就会被分派到服务器。

由于这次请求是同步的，JavaScript 代码会等到服务器响应之后再继续执行。。在收到响应之后，响应的数据会自动填充 XHR 对象的属性。