# 字符串的扩展

## 字符的 Unicode 表示法

ES6 加强了对 Unicode 的支持，允许使用 \uxxxx 形式表示一个字符，其中 xxxx 表示字符的 Unicode 码点。如果直接在 \u 后面跟上超过 0xFFFF 的数值（比如 \u20BB7），JavaScript 会理解成 \u20BB+7。由于 \u20BB 是一个不打印字符，所以只会显示一个空格，后面跟着一个 7。

ES6 对这一点做出了改变，只要将码点放入大括号，就能正确的解读该字符。

## 字符串的遍历器接口

ES6 为字符串添加了遍历器接口（Iterator），是的字符串可以被 for...of 循环遍历。

传统的 for 循环无法识别大于 0xFFFF 的码点，但是遍历器可以识别。

## 直接输出 U+2028 和 U+2029

JavaScript 字符串允许直接输入字符，以及输入字符的转义形式。但是 JavaScript 规定有 5 个字符，不能在字符串里面直接使用，只能使用转义形式：

* U+005C：反斜杠
* U+000D：回车
* U+2028：行分隔符
* U+2029：段分隔符
* U+000A：换行符

举例来说，字符串里面不能直接包含反斜杠，一定要转义成 \\\\ 或者 \u005c。

但是 JSON 格式允许字符串里面直接使用 U+2028 和 U+2029。为了消除这个报错，ES2019 允许 JavaScript 字符串直接输出 U+2028 和 U+2029。

## JSON.stringify() 的改造

根据标准，JSON 数据必须是 UTF-8 编码。但是现在的 JSON.stringify() 方法有可能返回不符合 UTF-8 标准的字符串。

为了确保返回的是合法的 UTF-8 字符，ES2019 改变了 JSON.stringify() 的行为。如果遇到 0xD800 到 0xDFFF 之间的单个码点，或者不存在的配对形式，它会返回转义字符串，留给应用自己决定下一步的处理。

## 模板字符串

## 实例：模板编译

## 标签模板

## 模板字符串的限制
